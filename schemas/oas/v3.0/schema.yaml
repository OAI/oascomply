---
$schema: https://spec.openapis.org/reference/dialect/2020-12/oastype
$id: https://spec.openapis.org/reference/3.0/schema/2021-09-28
description: |
  The description of OpenAPI v3.0.x documents,
  as defined by https://spec.openapis.org/oas/v3.0.3,
  enhanced with annotations for parsing and testing.

type: object
oasType: https://spec.openapis.org/oas/v3.0.3#openapi-object
required:
- openapi
- info
- paths
properties:
  openapi:
    type: string
    pattern: "^3\\.0\\.\\d(-.+)?$"
  info:
    $ref: "#/$defs/Info"
  externalDocs:
    $ref: "#/$defs/ExternalDocumentation"
  servers:
    type: array
    items:
      $ref: "#/$defs/Server"
  security:
    type: array
    items:
      $ref: "#/$defs/SecurityRequirement"
  tags:
    type: array
    items:
      $ref: "#/$defs/Tag"
    uniqueItems: true
  paths:
    $ref: "#/$defs/Paths"
  components:
    $ref: "#/$defs/Components"
patternProperties:
  ^x-: true
additionalProperties: false

$defs:
  Reference:
    oasType: https://spec.openapis.org/oas/v3.0.3#reference-object
    type: object
    required:
    - $ref
    properties:
      $ref:
        type: string
        format: uri-reference

  Info:
    oasType: https://spec.openapis.org/oas/v3.0.3#info-object
    type: object
    required:
    - title
    - version
    properties:
      title:
        type: string
      description:
        type: string
      termsOfService:
        type: string
        format: uri-reference
      contact:
        $ref: "#/$defs/Contact"
      license:
        $ref: "#/$defs/License"
      version:
        type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  Contact:
    oasType: https://spec.openapis.org/oas/v3.0.3#contact-object
    type: object
    properties:
      name:
        type: string
      url:
        type: string
        format: uri-reference
      email:
        type: string
        format: email
    patternProperties:
      ^x-: true
    additionalProperties: false

  License:
    oasType: https://spec.openapis.org/oas/v3.0.3#license-object
    type: object
    required:
    - name
    properties:
      name:
        type: string
      url:
        type: string
        format: uri-reference
    patternProperties:
      ^x-: true
    additionalProperties: false

  Server:
    oasType: https://spec.openapis.org/oas/v3.0.3#server-object
    type: object
    required:
    - url
    properties:
      url:
        type: string
      description:
        type: string
      variables:
        type: object
        additionalProperties:
          $ref: "#/$defs/ServerVariable"
    patternProperties:
      ^x-: true
    additionalProperties: false

  ServerVariable:
    oasType: https://spec.openapis.org/oas/v3.0.3#server-variable-object
    type: object
    required:
    - default
    properties:
      enum:
        type: array
        items:
          type: string
      default:
        type: string
      description:
        type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  Components:
    oasType: https://spec.openapis.org/oas/v3.0.3#components-object
    type: object
    properties:
      schemas:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Schema"
            - $ref: "#/$defs/Reference"
      responses:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Reference"
            - $ref: "#/$defs/Response"
      parameters:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Reference"
            - $ref: "#/$defs/Parameter"
      examples:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Reference"
            - $ref: "#/$defs/Example"
      requestBodies:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Reference"
            - $ref: "#/$defs/RequestBody"
      headers:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Reference"
            - $ref: "#/$defs/Header"
      securitySchemes:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Reference"
            - $ref: "#/$defs/SecurityScheme"
      links:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Reference"
            - $ref: "#/$defs/Link"
      callbacks:
        type: object
        patternProperties:
          "^[a-zA-Z0-9\\.\\-_]+$":
            oneOf:
            - $ref: "#/$defs/Reference"
            - $ref: "#/$defs/Callback"
    patternProperties:
      ^x-: true
    additionalProperties: false

  Schema:
    oasType: https://spec.openapis.org/oas/v3.0.3#schema-object
    type: object
    properties:
      title:
        type: string
      multipleOf:
        type: number
        exclusiveMinimum: 0
      maximum:
        type: number
      exclusiveMaximum:
        type: boolean
        default: false
      minimum:
        type: number
      exclusiveMinimum:
        type: boolean
        default: false
      maxLength:
        type: integer
        minimum: 0
      minLength:
        type: integer
        minimum: 0
        default: 0
      pattern:
        type: string
        format: regex
      maxItems:
        type: integer
        minimum: 0
      minItems:
        type: integer
        minimum: 0
        default: 0
      uniqueItems:
        type: boolean
        default: false
      maxProperties:
        type: integer
        minimum: 0
      minProperties:
        type: integer
        minimum: 0
        default: 0
      required:
        type: array
        items:
          type: string
        minItems: 1
        uniqueItems: true
      enum:
        type: array
        items: true
        minItems: 1
        uniqueItems: false
      type:
        type: string
        enum:
        - array
        - boolean
        - integer
        - number
        - object
        - string
      not:
        oneOf:
        - $ref: "#/$defs/Schema"
        - $ref: "#/$defs/Reference"
      allOf:
        type: array
        items:
          oneOf:
          - $ref: "#/$defs/Schema"
          - $ref: "#/$defs/Reference"
      oneOf:
        type: array
        items:
          oneOf:
          - $ref: "#/$defs/Schema"
          - $ref: "#/$defs/Reference"
      anyOf:
        type: array
        items:
          oneOf:
          - $ref: "#/$defs/Schema"
          - $ref: "#/$defs/Reference"
      items:
        oneOf:
        - $ref: "#/$defs/Schema"
        - $ref: "#/$defs/Reference"
      properties:
        type: object
        additionalProperties:
          oneOf:
          - $ref: "#/$defs/Schema"
          - $ref: "#/$defs/Reference"
      additionalProperties:
        oneOf:
        - $ref: "#/$defs/Schema"
        - $ref: "#/$defs/Reference"
        - type: boolean
        default: true
      description:
        type: string
      format:
        type: string
      default: true
      nullable:
        type: boolean
        default: false
      discriminator:
        $ref: "#/$defs/Discriminator"
      readOnly:
        type: boolean
        default: false
      writeOnly:
        type: boolean
        default: false
      example: true
      externalDocs:
        $ref: "#/$defs/ExternalDocumentation"
      deprecated:
        type: boolean
        default: false
      xml:
        $ref: "#/$defs/XML"
    patternProperties:
      ^x-: true
    additionalProperties: false

  Discriminator:
    oasType: https://spec.openapis.org/oas/v3.0.3#discriminator-object
    type: object
    required:
    - propertyName
    properties:
      propertyName:
        type: string
      mapping:
        type: object
        additionalProperties:
          type: string

  XML:
    oasType: https://spec.openapis.org/oas/v3.0.3#xml-object
    type: object
    properties:
      name:
        type: string
      namespace:
        type: string
        format: uri
      prefix:
        type: string
      attribute:
        type: boolean
        default: false
      wrapped:
        type: boolean
        default: false
    patternProperties:
      ^x-: true
    additionalProperties: false

  Response:
    oasType: https://spec.openapis.org/oas/v3.0.3#response-object
    type: object
    required:
    - description
    properties:
      description:
        type: string
      headers:
        type: object
        additionalProperties:
          oneOf:
          - $ref: "#/$defs/Header"
          - $ref: "#/$defs/Reference"
      content:
        type: object
        additionalProperties:
          $ref: "#/$defs/MediaType"
      links:
        type: object
        additionalProperties:
          oneOf:
          - $ref: "#/$defs/Link"
          - $ref: "#/$defs/Reference"
    patternProperties:
      ^x-: true
    additionalProperties: false

  MediaType:
    oasType: https://spec.openapis.org/oas/v3.0.3#media-type-object
    type: object
    properties:
      schema:
        oneOf:
        - $ref: "#/$defs/Schema"
        - $ref: "#/$defs/Reference"
      example: true
      examples:
        type: object
        additionalProperties:
          oneOf:
          - $ref: "#/$defs/Example"
          - $ref: "#/$defs/Reference"
      encoding:
        type: object
        additionalProperties:
          $ref: "#/$defs/Encoding"
    patternProperties:
      ^x-: true
    additionalProperties: false
    allOf:
    - $ref: "#/$defs/ExampleXORExamples"

  Example:
    oasType: https://spec.openapis.org/oas/v3.0.3#example-object
    type: object
    properties:
      summary:
        type: string
      description:
        type: string
      value: true
      externalValue:
        type: string
        format: uri-reference
    patternProperties:
      ^x-: true
    additionalProperties: false

  Header:
    oasType: https://spec.openapis.org/oas/v3.0.3#header-object
    type: object
    properties:
      description:
        type: string
      required:
        type: boolean
        default: false
      deprecated:
        type: boolean
        default: false
      allowEmptyValue:
        type: boolean
        default: false
      style:
        type: string
        default: simple
        const: simple
      explode:
        type: boolean
      allowReserved:
        type: boolean
        default: false
      schema:
        oneOf:
        - $ref: "#/$defs/Schema"
        - $ref: "#/$defs/Reference"
      content:
        type: object
        additionalProperties:
          $ref: "#/$defs/MediaType"
        minProperties: 1
        maxProperties: 1
      example: true
      examples:
        type: object
        additionalProperties:
          oneOf:
          - $ref: "#/$defs/Example"
          - $ref: "#/$defs/Reference"
    patternProperties:
      ^x-: true
    additionalProperties: false
    allOf:
    - $ref: "#/$defs/ExampleXORExamples"
    - $ref: "#/$defs/SchemaXORContent"

  Paths:
    oasType: https://spec.openapis.org/oas/v3.0.3#paths-object
    type: object
    patternProperties:
      "^\\/":
        $ref: "#/$defs/PathItem"
      ^x-: true
    additionalProperties: false

  PathItem:
    oasType: https://spec.openapis.org/oas/v3.0.3#path-item-object
    type: object
    properties:
      $ref:
        type: string
      summary:
        type: string
      description:
        type: string
      servers:
        type: array
        items:
          $ref: "#/$defs/Server"
      parameters:
        type: array
        items:
          oneOf:
          - $ref: "#/$defs/Parameter"
          - $ref: "#/$defs/Reference"
        uniqueItems: true
    patternProperties:
      "^(get|put|post|delete|options|head|patch|trace)$":
        $ref: "#/$defs/Operation"
      ^x-: true
    additionalProperties: false

  Operation:
    oasType: https://spec.openapis.org/oas/v3.0.3#operation-object
    type: object
    required:
    - responses
    properties:
      tags:
        type: array
        items:
          type: string
      summary:
        type: string
      description:
        type: string
      externalDocs:
        $ref: "#/$defs/ExternalDocumentation"
      operationId:
        type: string
      parameters:
        type: array
        items:
          oneOf:
          - $ref: "#/$defs/Parameter"
          - $ref: "#/$defs/Reference"
        uniqueItems: true
      requestBody:
        oneOf:
        - $ref: "#/$defs/RequestBody"
        - $ref: "#/$defs/Reference"
      responses:
        $ref: "#/$defs/Responses"
      callbacks:
        type: object
        additionalProperties:
          oneOf:
          - $ref: "#/$defs/Callback"
          - $ref: "#/$defs/Reference"
      deprecated:
        type: boolean
        default: false
      security:
        type: array
        items:
          $ref: "#/$defs/SecurityRequirement"
      servers:
        type: array
        items:
          $ref: "#/$defs/Server"
    patternProperties:
      ^x-: true
    additionalProperties: false

  Responses:
    oasType: https://spec.openapis.org/oas/v3.0.3#responses-object
    type: object
    properties:
      default:
        oneOf:
        - $ref: "#/$defs/Response"
        - $ref: "#/$defs/Reference"
    patternProperties:
      "^[1-5](?:\\d{2}|XX)$":
        oneOf:
        - $ref: "#/$defs/Response"
        - $ref: "#/$defs/Reference"
      ^x-: true
    minProperties: 1
    additionalProperties: false

  SecurityRequirement:
    oasType: https://spec.openapis.org/oas/v3.0.3#security-requirement-object
    type: object
    additionalProperties:
      type: array
      items:
        type: string

  Tag:
    oasType: https://spec.openapis.org/oas/v3.0.3#tag-object
    type: object
    required:
    - name
    properties:
      name:
        type: string
      description:
        type: string
      externalDocs:
        $ref: "#/$defs/ExternalDocumentation"
    patternProperties:
      ^x-: true
    additionalProperties: false

  ExternalDocumentation:
    oasType: https://spec.openapis.org/oas/v3.0.3#external-documentation-object
    type: object
    required:
    - url
    properties:
      description:
        type: string
      url:
        type: string
        format: uri-reference
    patternProperties:
      ^x-: true
    additionalProperties: false

  ExampleXORExamples:
    description: Example and examples are mutually exclusive
    not:
      required:
      - example
      - examples

  SchemaXORContent:
    description: Schema and content are mutually exclusive, at least one is required
    not:
      required:
      - schema
      - content
    oneOf:
    - required:
      - schema
    - required:
      - content
      description: Some properties are not allowed if content is present
      allOf:
      - not:
          required:
          - style
      - not:
          required:
          - explode
      - not:
          required:
          - allowReserved
      - not:
          required:
          - example
      - not:
          required:
          - examples

  Parameter:
    oasType: https://spec.openapis.org/oas/v3.0.3#parameter-object
    type: object
    properties:
      name:
        type: string
      in:
        type: string
      description:
        type: string
      required:
        type: boolean
        default: false
      deprecated:
        type: boolean
        default: false
      allowEmptyValue:
        type: boolean
        default: false
      style:
        type: string
      explode:
        type: boolean
      allowReserved:
        type: boolean
        default: false
      schema:
        oneOf:
        - $ref: "#/$defs/Schema"
        - $ref: "#/$defs/Reference"
      content:
        type: object
        additionalProperties:
          $ref: "#/$defs/MediaType"
        minProperties: 1
        maxProperties: 1
      example: true
      examples:
        type: object
        additionalProperties:
          oneOf:
          - $ref: "#/$defs/Example"
          - $ref: "#/$defs/Reference"
    patternProperties:
      ^x-: true
    additionalProperties: false
    required:
    - name
    - in
    allOf:
    - $ref: "#/$defs/ExampleXORExamples"
    - $ref: "#/$defs/SchemaXORContent"
    - $ref: "#/$defs/ParameterLocation"

  ParameterLocation:
    description: Parameter location
    oneOf:
    - description: Parameter in path
      oasSubType: https://spec.openapis.org/oas/v3.0.3#parameter-locations.path
      required:
      - required
      properties:
        in:
          const: path
        style:
          enum:
          - matrix
          - label
          - simple
          default: simple
        required:
          const: true
    - description: Parameter in query
      oasSubType: https://spec.openapis.org/oas/v3.0.3#parameter-locations.query
      properties:
        in:
          const: query
        style:
          enum:
          - form
          - spaceDelimited
          - pipeDelimited
          - deepObject
          default: form
    - description: Parameter in header
      oasSubType: https://spec.openapis.org/oas/v3.0.3#parameter-locations.header
      properties:
        in:
          const: header
        style:
          default: simple
          const: simple
    - description: Parameter in cookie
      oasSubType: https://spec.openapis.org/oas/v3.0.3#parameter-locations.cookie
      properties:
        in:
          const: cookie
        style:
          default: form
          const: form

  RequestBody:
    oasType: https://spec.openapis.org/oas/v3.0.3#request-body-object
    type: object
    required:
    - content
    properties:
      description:
        type: string
      content:
        type: object
        additionalProperties:
          $ref: "#/$defs/MediaType"
      required:
        type: boolean
        default: false
    patternProperties:
      ^x-: true
    additionalProperties: false

  SecurityScheme:
    oasType: https://spec.openapis.org/oas/v3.0.3#security-scheme-object
    oneOf:
    - $ref: "#/$defs/APIKeySecurityScheme"
    - $ref: "#/$defs/HTTPSecurityScheme"
    - $ref: "#/$defs/OAuth2SecurityScheme"
    - $ref: "#/$defs/OpenIdConnectSecurityScheme"

  APIKeySecurityScheme:
    oasSubType: https://spec.openapis.org/oas/v3.0.3#security-scheme-object.apiKey
    type: object
    required:
    - type
    - name
    - in
    properties:
      type:
        type: string
        const: apiKey
      name:
        type: string
      in:
        type: string
        enum:
        - header
        - query
        - cookie
      description:
        type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  HTTPSecurityScheme:
    oasSubType: https://spec.openapis.org/oas/v3.0.3#security-scheme-object.http
    type: object
    required:
    - scheme
    - type
    properties:
      scheme:
        type: string
      bearerFormat:
        type: string
      description:
        type: string
      type:
        type: string
        const: http
    patternProperties:
      ^x-: true
    additionalProperties: false
    oneOf:
    - description: Bearer
      properties:
        scheme:
          type: string
          pattern: "^[Bb][Ee][Aa][Rr][Ee][Rr]$"
    - description: Non Bearer
      not:
        required:
        - bearerFormat
      properties:
        scheme:
          not:
            type: string
            pattern: "^[Bb][Ee][Aa][Rr][Ee][Rr]$"

  OAuth2SecurityScheme:
    oasSubType: https://spec.openapis.org/oas/v3.0.3#security-scheme-object.oauth2
    type: object
    required:
    - type
    - flows
    properties:
      type:
        type: string
        const: oauth2
      flows:
        $ref: "#/$defs/OAuthFlows"
      description:
        type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  OpenIdConnectSecurityScheme:
    oasSubType: https://spec.openapis.org/oas/v3.0.3#security-scheme-object.openIdConnect
    type: object
    required:
    - type
    - openIdConnectUrl
    properties:
      type:
        type: string
        const: openIdConnect
      openIdConnectUrl:
        type: string
        format: uri-reference
      description:
        type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  OAuthFlows:
    oasType: https://spec.openapis.org/oas/v3.0.3#oauth-flows-object
    type: object
    properties:
      implicit:
        oasType: https://spec.openapis.org/oas/v3.0.3#oauth-flow-object
        $ref: "#/$defs/ImplicitOAuthFlow"
      password:
        oasType: https://spec.openapis.org/oas/v3.0.3#oauth-flow-object
        $ref: "#/$defs/PasswordOAuthFlow"
      clientCredentials:
        oasType: https://spec.openapis.org/oas/v3.0.3#oauth-flow-object
        $ref: "#/$defs/ClientCredentialsFlow"
      authorizationCode:
        oasType: https://spec.openapis.org/oas/v3.0.3#oauth-flow-object
        $ref: "#/$defs/AuthorizationCodeOAuthFlow"
    patternProperties:
      ^x-:
         oasType: https://spec.openapis.org/oas/v3.0.3#oauth-flow-object
    additionalProperties: false

  ImplicitOAuthFlow:
    oasSubType: https://spec.openapis.org/oas/v3.0.3#oauth-flows-object.implicit
    type: object
    required:
    - authorizationUrl
    - scopes
    properties:
      authorizationUrl:
        type: string
        format: uri-reference
      refreshUrl:
        type: string
        format: uri-reference
      scopes:
        type: object
        additionalProperties:
          type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  PasswordOAuthFlow:
    oasSubType: https://spec.openapis.org/oas/v3.0.3#oauth-flows-object.password
    type: object
    required:
    - tokenUrl
    - scopes
    properties:
      tokenUrl:
        type: string
        format: uri-reference
      refreshUrl:
        type: string
        format: uri-reference
      scopes:
        type: object
        additionalProperties:
          type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  ClientCredentialsFlow:
    oasSubType: https://spec.openapis.org/oas/v3.0.3#oauth-flows-object.clientCredentials
    type: object
    required:
    - tokenUrl
    - scopes
    properties:
      tokenUrl:
        type: string
        format: uri-reference
      refreshUrl:
        type: string
        format: uri-reference
      scopes:
        type: object
        additionalProperties:
          type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  AuthorizationCodeOAuthFlow:
    oasSubType: https://spec.openapis.org/oas/v3.0.3#oauth-flows-object.authorizationCode
    type: object
    required:
    - authorizationUrl
    - tokenUrl
    - scopes
    properties:
      authorizationUrl:
        type: string
        format: uri-reference
      tokenUrl:
        type: string
        format: uri-reference
      refreshUrl:
        type: string
        format: uri-reference
      scopes:
        type: object
        additionalProperties:
          type: string
    patternProperties:
      ^x-: true
    additionalProperties: false

  Link:
    oasType: https://spec.openapis.org/oas/v3.0.3#link-object
    type: object
    properties:
      operationId:
        type: string
      operationRef:
        type: string
        format: uri-reference
      parameters:
        type: object
        additionalProperties: true
      requestBody: true
      description:
        type: string
      server:
        $ref: "#/$defs/Server"
    patternProperties:
      ^x-: true
    additionalProperties: false
    not:
      description: Operation Id and Operation Ref are mutually exclusive
      required:
      - operationId
      - operationRef

  Callback:
    oasType: https://spec.openapis.org/oas/v3.0.3#callback-object
    type: object
    additionalProperties:
      $ref: "#/$defs/PathItem"
    patternProperties:
      ^x-: true

  Encoding:
    oasType: https://spec.openapis.org/oas/v3.0.3#encoding-object
    type: object
    properties:
      contentType:
        type: string
      headers:
        type: object
        additionalProperties:
          oneOf:
          - $ref: "#/$defs/Header"
          - $ref: "#/$defs/Reference"
      style:
        type: string
        enum:
        - form
        - spaceDelimited
        - pipeDelimited
        - deepObject
      explode:
        type: boolean
      allowReserved:
        type: boolean
        default: false
    additionalProperties: false

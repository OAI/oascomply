# Remove $recursive* and dependencies but not definitions
# as the vocabularies do not support actually using them
# TODO: jschon will treat "definitions" as an annotation
#       by default.  Should it be configured as a location?
#       Opt-in only?  Opt-out? What are the expectations?
properties:
  $recursiveAnchor: null
  $recursiveRef: null
  dependencies: null

if:
  anyOf:
  - required:
    - $ref
  - required:
    - $dynamicRef
then:
  oasType: Reference

oasType: Schema
oasReferences:
  0/$ref: Schema
  0/$dynamicRef: Schema
oasChildren:
  0/$defs/{name}: schemaDefs
  0/definitions/{name}: schemaDefs
  0/allOf/{index}: schemaAllOf
  0/anyOf/{index}: schemaAnyOf
  0/oneOf/{index}: schemaOneOf
  0/not: schemaNot
  0/if: schemaIf
  0/then: schemaThen
  0/else: schemaElse
  0/dependentSchemas/{name}: schemaDependentSchemas
  0/properties/{name}: schemaProperty
  0/patternProperties/{pattern}: schemaPatternProperties
  0/propertyNames/{name}: schemaPropertyNames
  0/additionalProperties: schemaAdditionalProperties
  0/unevaluatedProperties: schemaUnevaluatedProperties
  0/items: schemaItems
  0/prefixItems/{index}: schemaPrefixItems
  0/additionalItems: schemaAdditionalItems
  0/unevaluatedItems: schemaUnevaluatedItems
  0/contains: schemaContains
  0/contentSchema: schemaContentSchema
oasLiterals:
  0/$id: schemaId
  0/$schema: schemaSchema
  0/$vocabulary: schemaVocabulary
  0/$comment: schemaComment
  0/$anchor: schemaAnchor
  0/$dynamicAnchor: schemaDynamicAnchor
  0/type: schemaType
  0/const: schemaConst
  0/enum: schemaEnum
  0/maximum: schemaMaximum
  0/minimum: schemaMinimum
  0/exclusiveMaximum: schemaExclusiveMaximum
  0/exclusiveMinimum: schemaExclusiveMinimum
  0/multipleOf: schemaMultipleOf
  0/maxLength: schemaMaxLength
  0/minLength: schemaMinLength
  0/pattern: schemaPattern
  0/maxItems: schemaMaxItems
  0/minItems: schemaMinItems
  0/uniqueItems: schemaUniqueItems
  0/maxProperties: schemaMaxProperties
  0/minProperties: schemaMinProperties
  0/required: schemaRequired
  0/dependentRequired: schemaDependentRequired
  0/title: schemaTitle
  0/description: schemaDescription
  0/contentEncoding: schemaContentEncoding
  0/contentMediaType: schemaContentMediaType
  0/format: schemaFormat
  0/default: schemaDefault
  0/readOnly: schemaReadOnly
  0/writeOnly: schemaWriteOnly
  0/deprecated: schemaDeprecated
